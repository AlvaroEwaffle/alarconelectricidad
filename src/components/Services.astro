---
import Gallery from './Gallery.astro';

const services = {
  "instalaciones": {
    title: "Instalaciones Domiciliarias",
    description: "Servicios completos de instalaci√≥n el√©ctrica para hogares",
    items: [
      {
        title: "Instalaci√≥n el√©ctrica nueva",
        description: "Dise√±o y ejecuci√≥n de instalaciones el√©ctricas para viviendas nuevas, con cumplimiento de normativas vigentes y alto est√°ndar de seguridad.",
        icon: "üè†"
      },
      {
        title: "Instalaci√≥n de luminarias",
        description: "Montaje de l√°mparas, plafones, focos, y sistemas de iluminaci√≥n LED de eficiencia energ√©tica.",
        icon: "üí°"
      },
      {
        title: "Instalaci√≥n de sistemas de climatizaci√≥n",
        description: "Conexi√≥n de sistemas de calefacci√≥n, ventilaci√≥n y aire acondicionado (HVAC) de acuerdo a las necesidades del hogar.",
        icon: "‚ùÑÔ∏è"
      },
      {
        title: "Instalaci√≥n de enchufes y tomas el√©ctricas",
        description: "Instalaci√≥n de puntos de energ√≠a en espacios seg√∫n la distribuci√≥n de cada hogar, adaptados a necesidades de dispositivos electr√≥nicos.",
        icon: "üîå"
      },
      {
        title: "Cableado estructurado",
        description: "Instalaci√≥n de redes el√©ctricas y cableado adecuado para uso dom√©stico y para el soporte de nuevas tecnolog√≠as.",
        icon: "üîó"
      }
    ]
  },
  "reparaciones": {
    title: "Reposici√≥n de Fallas y Cambio de Equipos",
    description: "Diagn√≥stico y reparaci√≥n de problemas el√©ctricos existentes",
    items: [
      {
        title: "Diagn√≥stico de fallas el√©ctricas",
        description: "Identificaci√≥n precisa de problemas en sistemas el√©ctricos residenciales e industriales mediante herramientas tecnol√≥gicas avanzadas.",
        icon: "üîç"
      },
      {
        title: "Reposici√≥n de cables y conductores el√©ctricos",
        description: "Sustituci√≥n de cables da√±ados o envejecidos para garantizar la seguridad y eficiencia del sistema el√©ctrico.",
        icon: "üîå"
      },
      {
        title: "Cambio de tableros el√©ctricos",
        description: "Actualizaci√≥n o reemplazo de tableros el√©ctricos residenciales o industriales para cumplir con las normativas y mejorar la distribuci√≥n de energ√≠a.",
        icon: "‚ö°"
      },
      {
        title: "Reposici√≥n de equipos de protecci√≥n el√©ctrica",
        description: "Instalaci√≥n de nuevos dispositivos de protecci√≥n como interruptores autom√°ticos, fusibles y sistemas de puesta a tierra.",
        icon: "üõ°Ô∏è"
      },
      {
        title: "Cambio de equipos el√©ctricos obsoletos",
        description: "Reemplazo de equipos como transformadores, interruptores, y sistemas de distribuci√≥n que han llegado al final de su vida √∫til o no cumplen con los est√°ndares modernos.",
        icon: "üîÑ"
      }
    ]
  }
};
---

<section id="servicios" class="py-20 relative" 
         style="background-image: linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9)), url('/FOTO4.jpg'); background-size: cover; background-position: center; background-attachment: fixed;">
  <!-- Overlay for better text readability -->
  <div class="absolute inset-0 bg-white/20"></div>
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-main mb-6">
        Nuestros Servicios
      </h2>
      <p class="text-xl text-main/80 max-w-3xl mx-auto">
        Soluciones integrales para instalaciones y mantenimiento el√©ctrico tanto a nivel domiciliario como industrial
      </p>
    </div>

    <!-- Service Tabs -->
    <div class="mb-12">
      <div class="flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4">
        <button 
          id="tab-instalaciones" 
          class="tab-button px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 bg-hover text-white"
          data-tab="instalaciones"
        >
          üè† Instalaciones Domiciliarias
        </button>
        <button 
          id="tab-reparaciones" 
          class="tab-button px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 bg-soft text-main hover:bg-hover hover:text-white"
          data-tab="reparaciones"
        >
          üîß Reparaciones y Mantenimiento
        </button>
      </div>
    </div>

    <!-- Service Content -->
    <div id="service-content">
      <!-- Instalaciones Tab -->
      <div id="content-instalaciones" class="tab-content">
        <div class="text-center mb-12">
          <h3 class="text-3xl font-bold text-main mb-4">{services.instalaciones.title}</h3>
          <p class="text-lg text-main/80 max-w-2xl mx-auto">{services.instalaciones.description}</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {services.instalaciones.items.map((item, index) => (
            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-soft/50">
              <div class="text-center mb-4">
                <div class="text-4xl mb-4">{item.icon}</div>
                <h4 class="text-xl font-bold text-main mb-3">{item.title}</h4>
                <p class="text-main/80 leading-relaxed">{item.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Reparaciones Tab -->
      <div id="content-reparaciones" class="tab-content hidden">
        <div class="text-center mb-12">
          <h3 class="text-3xl font-bold text-main mb-4">{services.reparaciones.title}</h3>
          <p class="text-lg text-main/80 max-w-2xl mx-auto">{services.reparaciones.description}</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {services.reparaciones.items.map((item, index) => (
            <div class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-soft/50">
              <div class="text-center mb-4">
                <div class="text-4xl mb-4">{item.icon}</div>
                <h4 class="text-xl font-bold text-main mb-3">{item.title}</h4>
                <p class="text-main/80 leading-relaxed">{item.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- Gallery Section -->
    <div class="mt-20">
      <Gallery 
        images={[
          "/FOTO1.jpg",
          "/FOTO2.jpg", 
          "/FOTO3.jpg",
          "/FOTO4.jpg",
          "/FOTO5.jpg",
          "/FOTO6.jpg",
          "/FOTO7.jpg",
          "/FOTO8.jpg",
          "/FOTO9.jpg",
          "/FOTO10.jpg",
          "/FOTO11.jpg",
          "/FOTO12.jpg",
          "/FOTO13.jpg",
          "/FOTO14.jpg",
          "/FOTO15.jpg"
        ]}
        title="Galer√≠a de Nuestros Trabajos"
        description="Algunos de nuestros proyectos m√°s destacados en Talca y Regi√≥n del Maule"
      />
    </div>

    <!-- CTA Section -->
    <div class="mt-16 text-center">
      <div class="bg-gradient-to-r from-highlight to-blue-300 rounded-2xl p-8 max-w-4xl mx-auto">
        <h3 class="text-2xl font-bold text-main mb-4">¬øNecesitas una cotizaci√≥n personalizada?</h3>
        <p class="text-main/90 mb-6">Contacta con nosotros para recibir una evaluaci√≥n gratuita de tu proyecto</p>
        <a href="https://wa.me/56937418142" target="_blank" 
           class="inline-block bg-main text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-main/90 transition-all duration-300 transform hover:scale-105 shadow-lg">
          üìû Solicitar cotizaci√≥n gratuita
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetTab = button.getAttribute('data-tab');
        
        // Update button styles
        tabButtons.forEach(btn => {
          btn.classList.remove('bg-hover', 'text-white');
          btn.classList.add('bg-soft', 'text-main', 'hover:bg-hover', 'hover:text-white');
        });
        button.classList.remove('bg-soft', 'text-main', 'hover:bg-hover', 'hover:text-white');
        button.classList.add('bg-hover', 'text-white');
        
        // Show/hide content
        tabContents.forEach(content => {
          content.classList.add('hidden');
        });
        document.getElementById(`content-${targetTab}`).classList.remove('hidden');
      });
    });
  });
</script>
